# Environment Variables Checklist

**Created:** 2025-10-17
**Purpose:** Recovery checklist after Codespace corruption
**Status:** üîÑ In Progress

---

## üìã Quick Status

### ‚úÖ Completed
- [x] Railway backend `.env` created (with placeholders)
- [x] Vercel frontend `.env.local` created
- [x] Dashboards `.env` created
- [x] MCP server `.env` created
- [x] Google OAuth credentials recovered from SESSION_016

### ‚ö†Ô∏è Needs Action
- [ ] Get OpenAI API key
- [ ] Get Railway database URL
- [ ] Get Redis URL (if using Redis)
- [ ] Add SolArk credentials (if using)
- [ ] Add Victron credentials (if using)
- [ ] Get Google Drive folder ID
- [ ] Get Google Service Account JSON
- [ ] Update ALLOWED_EMAIL in Vercel config
- [ ] Verify all Railway environment variables

---

## üîë Critical Secrets to Obtain

### 1. OpenAI API Key ‚ö†Ô∏è **REQUIRED**
**Location:** `railway/.env`
**Variable:** `OPENAI_API_KEY`
**How to get:**
1. Go to https://platform.openai.com/api-keys
2. Create new secret key or use existing
3. Update in `railway/.env`

**Status:** [ ] Not obtained

---

### 2. Railway Database URL ‚ö†Ô∏è **REQUIRED**
**Location:** `railway/.env`, `dashboards/.env`
**Variable:** `DATABASE_URL`
**How to get:**
```bash
# Option 1: Via Railway CLI
railway variables --service CommandCenter | grep DATABASE_URL

# Option 2: Via Railway Dashboard
# Go to Railway ‚Üí CommandCenter service ‚Üí Variables
# Copy DATABASE_URL value
```

**For Railway deployment:** Use `${{Postgres.DATABASE_URL}}`
**For local development:** Copy actual connection string

**Status:** [ ] Not obtained

---

### 3. Redis URL (Optional - for V1.8 caching)
**Location:** `railway/.env`
**Variable:** `REDIS_URL`
**How to get:**
```bash
# Via Railway CLI
railway variables --service CommandCenter | grep REDIS_URL

# For Railway deployment: Use ${{Redis.REDIS_URL}}
# For local: Use redis://localhost:6379
```

**Status:** [ ] Not obtained

---

### 4. Google Service Account JSON ‚ö†Ô∏è **REQUIRED for KB**
**Location:** `railway/.env`
**Variable:** `GOOGLE_SERVICE_ACCOUNT_JSON`
**How to get:**
1. Go to Google Cloud Console: https://console.cloud.google.com
2. Navigate to "IAM & Admin" ‚Üí "Service Accounts"
3. Find "CommandCenter KB" service account
4. Click "Keys" ‚Üí "Add Key" ‚Üí "Create new key" (JSON)
5. Download JSON file
6. Copy entire JSON content as string value

**Status:** [ ] Not obtained

---

### 5. Google Drive Folder ID ‚ö†Ô∏è **REQUIRED for KB**
**Location:** `railway/.env`
**Variable:** `GOOGLE_DOCS_KB_FOLDER_ID`
**How to get:**
1. Open Google Drive
2. Navigate to your "command-center" KB folder
3. Look at URL: `https://drive.google.com/drive/folders/FOLDER_ID_HERE`
4. Copy the `FOLDER_ID_HERE` part

**Example:** If URL is `https://drive.google.com/drive/folders/1abc123XYZ`, use `1abc123XYZ`

**Status:** [ ] Not obtained

---

### 6. SolArk Credentials (Optional - for solar integration)
**Location:** `railway/.env`
**Variables:**
- `SOLARK_EMAIL`
- `SOLARK_PASSWORD`
- `SOLARK_PLANT_ID`

**How to get:**
- Email/Password: Your SolArk Cloud login
- Plant ID: From SolArk Cloud dashboard URL (default: 146453)

**Status:** [ ] Not obtained (Optional)

---

### 7. Victron VRM Credentials (Optional - for battery integration)
**Location:** `railway/.env`
**Variables:**
- `VICTRON_VRM_USERNAME`
- `VICTRON_VRM_PASSWORD`
- `VICTRON_INSTALLATION_ID`

**How to get:**
1. Log in to https://vrm.victronenergy.com
2. Username: Your VRM email
3. Password: Your VRM password
4. Installation ID: From URL when viewing your installation
   `https://vrm.victronenergy.com/installation/123456/dashboard` ‚Üí Use `123456`

**Documentation:** `docs/deployment/VICTRON_ENV_SETUP.md`

**Status:** [ ] Not obtained (Optional)

---

### 8. Frontend ALLOWED_EMAIL ‚ö†Ô∏è **REQUIRED**
**Location:** `vercel/.env.local`
**Variable:** `ALLOWED_EMAIL`
**Current value:** `your-email@gmail.com` (placeholder)
**Action:** Update to your actual Google account email

**Status:** [ ] Not updated

---

## ‚úÖ Already Recovered

### Google OAuth Credentials
**Source:** `docs/sessions/SESSION_016_ENV_VARS.md`

- ‚úÖ `GOOGLE_CLIENT_ID`: `643270983147-790kqhno93gfedc6i348flfe1ln72gsc.apps.googleusercontent.com`
- ‚úÖ `GOOGLE_CLIENT_SECRET`: `GOCSPX-dEpzFulFlcKq8k3SWd3Ji651cNj`
- ‚úÖ `NEXTAUTH_SECRET`: `bE2tr+Az+/jG23Igu3myX2kdHUo9eJlF2/4OgUUi0B8=`
- ‚úÖ `NEXTAUTH_URL`: `https://mcp.wildfireranch.us`

**These are already in the .env files!**

---

## üöÄ Quick Commands to Fill Gaps

### Get Railway Variables
```bash
# Login to Railway
railway login

# Link to project
railway link

# View all variables for backend service
railway variables --service CommandCenter

# Copy specific values:
# - DATABASE_URL
# - REDIS_URL
# - OPENAI_API_KEY (if stored in Railway)
# - Any other secrets
```

### Verify Railway Deployment
```bash
# Check which variables are set in Railway
railway variables --service CommandCenter

# Check database service variables
railway variables --service POSTGRES_DB
```

---

## üìù Service-by-Service Checklist

### Railway Backend (`railway/.env`)
- [ ] `OPENAI_API_KEY` - Get from OpenAI dashboard
- [ ] `DATABASE_URL` - Get from Railway variables
- [ ] `REDIS_URL` - Get from Railway variables (optional)
- [ ] `GOOGLE_SERVICE_ACCOUNT_JSON` - Get from Google Cloud
- [ ] `GOOGLE_DOCS_KB_FOLDER_ID` - Get from Google Drive URL
- [x] `GOOGLE_CLIENT_ID` - ‚úÖ Recovered from SESSION_016
- [x] `GOOGLE_CLIENT_SECRET` - ‚úÖ Recovered from SESSION_016
- [ ] `SOLARK_EMAIL` / `SOLARK_PASSWORD` - Add if using
- [ ] `VICTRON_VRM_USERNAME` / `VICTRON_VRM_PASSWORD` / `VICTRON_INSTALLATION_ID` - Add if using

### Vercel Frontend (`vercel/.env.local`)
- [x] `GOOGLE_CLIENT_ID` - ‚úÖ Recovered from SESSION_016
- [x] `GOOGLE_CLIENT_SECRET` - ‚úÖ Recovered from SESSION_016
- [x] `NEXTAUTH_SECRET` - ‚úÖ Recovered from SESSION_016
- [x] `NEXTAUTH_URL` - ‚úÖ Set to https://mcp.wildfireranch.us
- [ ] `ALLOWED_EMAIL` - Update to your email
- [x] `NEXT_PUBLIC_API_URL` - ‚úÖ Set to https://api.wildfireranch.us
- [x] `NEXT_PUBLIC_STUDIO_URL` - ‚úÖ Set to https://studio.wildfireranch.us

### Dashboards (`dashboards/.env`)
- [ ] `DATABASE_URL` - Get from Railway variables
- [x] `RAILWAY_API_URL` - ‚úÖ Set to https://api.wildfireranch.us

### MCP Server (`mcp-server/.env`)
- [x] `RAILWAY_API_URL` - ‚úÖ Set to https://api.wildfireranch.us

---

## üîó Documentation References

- **Complete env setup:** [docs/sessions/SESSION_016_ENV_VARS.md](docs/sessions/SESSION_016_ENV_VARS.md)
- **Production config:** [docs/V1.5_MASTER_REFERENCE.md](docs/V1.5_MASTER_REFERENCE.md)
- **Victron setup:** [docs/deployment/VICTRON_ENV_SETUP.md](docs/deployment/VICTRON_ENV_SETUP.md)
- **Railway guide:** [docs/guides/RAILWAY_ACCESS_GUIDE.md](docs/guides/RAILWAY_ACCESS_GUIDE.md)
- **Google Cloud setup:** [docs/sessions/SESSION_016_GOOGLE_CLOUD_SETUP.md](docs/sessions/SESSION_016_GOOGLE_CLOUD_SETUP.md)

---

## üéØ Next Steps

1. **Get critical secrets** (OpenAI, Database URL, Google credentials)
2. **Update .env files** with actual values
3. **Test local services** to verify configuration
4. **Validate Railway deployment** is still working
5. **Document what was recovered** in SESSION_035 notes

---

## üìä Recovery Progress

**Items Recovered:** 7/16 (44%)
**Critical Items Remaining:** 5
**Optional Items Remaining:** 4

**Estimated Time to Complete:** 15-20 minutes (once you have access to dashboards)
