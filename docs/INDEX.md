# üìö CommandCenter Documentation Index

**Last Updated**: Post-Session 021 (October 2025)
**Status**: ‚úÖ **OPERATIONAL** - All critical bugs fixed, system 100% functional
**Version**: V1.5 Complete - Multi-agent system fully operational

## üéâ **LATEST UPDATES**

### üü¢ SYSTEM NOW OPERATIONAL
1. **[sessions/SESSION_021_SUMMARY.md](sessions/SESSION_021_SUMMARY.md)** ‚úÖ **Session 021 - All bugs fixed!**
2. **[sessions/SESSION_021_DEBUG_PROMPT.md](sessions/SESSION_021_DEBUG_PROMPT.md)** üìã Bug report that was addressed
3. **[sessions/SESSION_020_PROMPT.md](sessions/SESSION_020_PROMPT.md)** - Session 020 (Energy Orchestrator built)

## üöÄ Quick Start Guides

### For New Users
1. **[README.md](../README.md)** - Project overview and current status
2. **[sessions/SESSION_021_SUMMARY.md](sessions/SESSION_021_SUMMARY.md)** ‚≠ê **Latest session - system now operational**
3. **[CODEBASE_AUDIT_OCT2025.md](CODEBASE_AUDIT_OCT2025.md)** - Complete system inventory
4. **[08-Remaining_v1-5.md](08-Remaining_%20v1-5.md)** - V1.5 execution plan (COMPLETED!)

### For Developers
1. **[CommandCenter Code Style Guide.md](CommandCenter%20Code%20Style%20Guide.md)** - Coding standards
2. **[ORCHESTRATION_LAYER_DESIGN.md](ORCHESTRATION_LAYER_DESIGN.md)** üÜï **Manager agent architecture**
3. **[05-architecture.md](05-architecture.md)** - System architecture overview
4. **[06-knowledge-base-design.md](06-knowledge-base-design.md)** - KB system design

## üìã Session History

### Latest Sessions (Start Here!)
- **[sessions/SESSION_021_SUMMARY.md](sessions/SESSION_021_SUMMARY.md)** ‚úÖ **Session 021 - Critical Bug Fixes (COMPLETE)**
- **[sessions/SESSION_021_DEBUG_PROMPT.md](sessions/SESSION_021_DEBUG_PROMPT.md)** üìã Session 021 debug prompt
- **[sessions/SESSION_020_PROMPT.md](sessions/SESSION_020_PROMPT.md)** üÜï **Session 020 - Energy Orchestrator Built**
- **[sessions/SESSION_019_ORCHESTRATION_SUMMARY.md](sessions/SESSION_019_ORCHESTRATION_SUMMARY.md)** - Orchestration Complete
- **[sessions/SESSION_018D_SUMMARY.md](sessions/SESSION_018D_SUMMARY.md)** - KB Dashboard operational
- **[sessions/SESSION_018_COMPLETION_SUMMARY.md](sessions/SESSION_018_COMPLETION_SUMMARY.md)** - Session 018 complete
- **[sessions/SESSION_015_COMPLETION_SUMMARY.md](sessions/SESSION_015_COMPLETION_SUMMARY.md)** - Session 015 complete
- **[sessions/SESSION_010_FINAL_SUMMARY.md](sessions/SESSION_010_FINAL_SUMMARY.md)** - Frontend pages complete
- **[sessions/SESSION_009_SUMMARY.md](sessions/SESSION_009_SUMMARY.md)** - MCP Server implementation

### Earlier Sessions
- **[sessions/Session_008_Agent_Memory_and_Energy_Tracking.md](sessions/Session_008_Agent_Memory_and_Energy_Tracking.md)** - Agent memory + energy data
- **[sessions/Session_007_Database_Schema_Initialized.md](sessions/Session_007_Database_Schema_Initialized.md)** - Database schema setup
- **[sessions/Session_006_Database_Victory.md](sessions/Session_006_Database_Victory.md)** - Database connection success
- **[sessions/Session_005_SolArk_and_DB.md](sessions/Session_005_SolArk_and_DB.md)** - SolArk integration
- **[sessions/Session_004_First_CrewAI_Agent.md](sessions/Session_004_First_CrewAI_Agent.md)** - First agent created
- **[sessions/Session_003_Railway_Deployed.md](sessions/Session_003_Railway_Deployed.md)** - Railway deployment
- **[sessions/Session_002_Foundation_Built.md](sessions/Session_002_Foundation_Built.md)** - Project foundation
- **[sessions/session-001-setup-and-audit.md](sessions/session-001-setup-and-audit.md)** - Initial setup and audit

## üé® Frontend Documentation

### Next.js Frontend (Vercel)
- **[FRONTEND_COMPLETE.md](../FRONTEND_COMPLETE.md)** - Frontend completion status
- **[VERCEL_FIXED.md](../VERCEL_FIXED.md)** - Vercel deployment fix
- **[VERCEL_DEPLOYMENT.md](VERCEL_DEPLOYMENT.md)** - Full deployment guide
- **[vercel/README.md](../vercel/README.md)** - Frontend documentation

### Frontend Analysis
- **[frontend-analysis/FRONTEND_AUDIT.md](frontend-analysis/FRONTEND_AUDIT.md)** - Old frontend analysis
- **[frontend-analysis/COMPONENT_INVENTORY.md](frontend-analysis/COMPONENT_INVENTORY.md)** - Component breakdown

## üìä Dashboard Documentation

### Streamlit Operations Dashboard
- **[DASHBOARD_COMPLETE.md](DASHBOARD_COMPLETE.md)** - Ops dashboard completion guide
- **[dashboards/README.md](../dashboards/README.md)** - Dashboard documentation

### ~~CrewAI Studio~~ (Removed in Session 019)
- Third-party GUI removed to focus on our application
- See Session 019 summary for details

## üèóÔ∏è Architecture & Planning

### Current V1.5 Development
- **[CODEBASE_AUDIT_OCT2025.md](CODEBASE_AUDIT_OCT2025.md)** üÜï **Complete system audit (80% done!)**
- **[ORCHESTRATION_LAYER_DESIGN.md](ORCHESTRATION_LAYER_DESIGN.md)** üÜï **Manager agent design**
- **[08-Remaining_v1-5.md](08-Remaining_%20v1-5.md)** - V1.5 execution plan (updated)
- **[05-architecture.md](05-architecture.md)** - System architecture
- **[06-knowledge-base-design.md](06-knowledge-base-design.md)** - KB system design
- **[07-knowledge-base-sync.md](07-knowledge-base-sync.md)** - KB sync implementation

### Historical Context
- **[00-project-summary.md](00-project-summary.md)** - Project summary
- **[01-discovery-phase.md](01-discovery-phase.md)** - Discovery phase
- **[02-old-stack-audit.md](02-old-stack-audit.md)** - Old Relay stack audit
- **[04-port-plan.md](04-port-plan.md)** - Migration plan
- **[03-requirements.md](03-requirements.md)** - Requirements

## üîß Technical Guides

### MCP Server
- **[mcp-server/INSTALL.md](../mcp-server/INSTALL.md)** - Claude Desktop integration
- **[mcp-server/QUICK_START.md](../mcp-server/QUICK_START.md)** - Quick start guide
- **[mcp-server/README.md](../mcp-server/README.md)** - MCP documentation

### Railway API
- **[railway/README.md](../railway/README.md)** - Railway backend docs
- API Docs: https://api.wildfireranch.us/docs

### Agent System
**Multi-Agent Architecture** (Post-Session 021 Debug)

#### Agents
1. **Manager Agent** ([railway/src/agents/manager.py](../railway/src/agents/manager.py))
   - Routes queries to specialized agents
   - Analyzes user intent
   - Coordinates multi-agent queries
   - Role: "Query Router and Coordinator"

2. **Solar Controller** ([railway/src/agents/solar_controller.py](../railway/src/agents/solar_controller.py))
   - Real-time status monitoring
   - Battery, solar, load, grid data
   - Role: "Energy Systems Monitor"
   - Tools: Get SolArk Status, Search Knowledge Base

3. **Energy Orchestrator** ([railway/src/agents/energy_orchestrator.py](../railway/src/agents/energy_orchestrator.py))
   - Planning and optimization
   - Battery charge/discharge recommendations
   - Miner coordination decisions
   - Role: "Energy Operations Manager"
   - Tools: Battery Optimizer, Miner Coordinator, Energy Planner

#### Tools
- `search_knowledge_base` - Semantic search in KB ([railway/src/tools/kb_search.py](../railway/src/tools/kb_search.py))
- `get_solark_status` - Real-time inverter data ([railway/src/tools/solark.py](../railway/src/tools/solark.py))
- `optimize_battery` - Charge/discharge recommendations ([railway/src/tools/battery_optimizer.py](../railway/src/tools/battery_optimizer.py))
- `coordinate_miners` - Miner on/off decisions ([railway/src/tools/miner_coordinator.py](../railway/src/tools/miner_coordinator.py))
- `create_energy_plan` - 24-hour energy planning ([railway/src/tools/energy_planner.py](../railway/src/tools/energy_planner.py))

#### API Endpoints
- `POST /ask` - Send query to agent system
- `GET /conversations` - List recent conversations
- `GET /conversations/{id}` - Get conversation details
- `GET /health` - System health check

#### Tool Calling Convention
All tools use CrewAI's `@tool` decorator. When calling tools directly (not through agents):
```python
# ‚úÖ CORRECT - Use .func() method
result = search_knowledge_base.func(query, limit=5)

# ‚ùå WRONG - Will raise TypeError
result = search_knowledge_base(query, limit=5)
```

See [CommandCenter Code Style Guide.md](CommandCenter%20Code%20Style%20Guide.md) for details.

## üìà Progress Tracking

- **[progress.md](progress.md)** - Overall progress tracker
- **[sessions/SESSION_010_RECAP.md](sessions/SESSION_010_RECAP.md)** - Session 010 recap
- **[sessions/SESSION_012_RECAP.md](sessions/SESSION_012_RECAP.md)** - Session 012 recap

## üóÇÔ∏è Organization by Topic

### Energy Management
- Session 008: Agent Memory and Energy Tracking
- Dashboard: Energy Monitor page
- API: `/energy/latest`, `/energy/stats`

### Agent Management
- CrewAI Studio setup
- MCP Server integration
- Agent chat interfaces

### Frontend Development
- Next.js frontend (Vercel)
- Streamlit dashboards (Railway)
- Component analysis

### Deployment
- Railway deployment guides
- Vercel deployment guides
- Docker configurations

## üéØ Current Status (Session 019 - V1.5 at 80%)

### ‚úÖ Completed
- ‚úÖ Railway API (18+ endpoints operational)
- ‚úÖ PostgreSQL + TimescaleDB + pgvector
- ‚úÖ Knowledge Base (sync, search, deletion)
- ‚úÖ Solar Controller Agent (with memory + KB search)
- ‚úÖ Manager Agent (intelligent orchestration) üÜï
- ‚úÖ Next.js Frontend (7 pages, all functional)
- ‚úÖ MCP Server (Claude Desktop ready)
- ‚úÖ Streamlit Operations Dashboard

### üî® Next: Session 2 - Energy Orchestrator
- [ ] Design Energy Orchestrator agent
- [ ] Build battery optimizer tool
- [ ] Build miner coordinator tool
- [ ] Build energy planner tool
- [ ] Add routing to Manager
- [ ] Test and deploy
- **ETA**: 6-8 hours

### üìÖ After That: Session 3 - Polish & Ship
- [ ] Polish chat interface (show sources, status)
- [ ] End-to-end testing
- [ ] Tag V1.5 release
- **ETA**: 2-3 hours

## üìû Quick Links

### Running Services
- **Railway API**: https://api.wildfireranch.us
- **Next.js Frontend**: http://localhost:3000
- **Streamlit Ops**: http://localhost:8502
- **CrewAI Studio**: http://localhost:8501

### Key Repositories
- **Main Repo**: /workspaces/CommandCenter
- **Frontend**: /workspaces/CommandCenter/vercel
- **Dashboards**: /workspaces/CommandCenter/dashboards
- **MCP Server**: /workspaces/CommandCenter/mcp-server

---

## üìù How to Use This Index

**Starting a new session?**
‚Üí Read [sessions/NEXT_SESSION_PROMPT_020.md](sessions/NEXT_SESSION_PROMPT_020.md)

**Need to understand the system?**
‚Üí Read [05-architecture.md](05-architecture.md)

**Want to deploy something?**
‚Üí Check deployment guides (VERCEL_DEPLOYMENT.md, CREWAI_STUDIO_SETUP.md)

**Looking for old context?**
‚Üí Check session history in /sessions folder

**Need quick reference?**
‚Üí [QUICKSTART_DASHBOARDS.md](../QUICKSTART_DASHBOARDS.md) or [STRONG_START.md](../STRONG_START.md)

---

**Last Session**: 019 - Orchestration Layer Complete
**Next Session**: 020 - Build Energy Orchestrator Agent
**Status**: V1.5 at 80% - Almost there! üí™
